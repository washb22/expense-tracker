{% extends "layout.html" %}
{% block title %}íšŒì› ìƒì„¸ - MoneyLog{% endblock %}
{% block content %}
<div class="page-header">
    <h2>ğŸ‘¤ íšŒì› ìƒì„¸ ì •ë³´</h2>
    <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary">â† ëª©ë¡ìœ¼ë¡œ</a>
</div>

<div class="card" style="margin-bottom: 20px;">
    <div class="card-header">
        <h3>ê¸°ë³¸ ì •ë³´</h3>
    </div>
    <div class="card-body" style="padding: 20px;">
        <p><strong>ID:</strong> {{ user.id }}</p>
        <p><strong>ì‚¬ìš©ìëª…:</strong> {{ user.username }}</p>
        <p><strong>ì´ë©”ì¼:</strong> {{ user.email }}</p>
    </div>
</div>

<div class="card" style="margin-bottom: 20px;">
    <div class="card-header">
        <h3>ì†Œì† ì‚¬ì—…ì¥ ({{ workspaces|length }}ê°œ)</h3>
    </div>
    <div class="card-body" style="padding: 20px;">
        {% if workspaces %}
        <table class="data-table" style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="border-bottom: 1px solid var(--border-color);">
                    <th style="padding: 10px; text-align: left;">ì‚¬ì—…ì¥ ID</th>
                    <th style="padding: 10px; text-align: left;">ì‚¬ì—…ì¥ëª…</th>
                    <th style="padding: 10px; text-align: left;">ì—­í• </th>
                </tr>
            </thead>
            <tbody>
                {% for ws in workspaces %}
                <tr style="border-bottom: 1px solid var(--border-color);">
                    <td style="padding: 10px;">{{ ws.id }}</td>
                    <td style="padding: 10px;">{{ ws.name }}</td>
                    <td style="padding: 10px;">
                        {% if ws.role == 'owner' %}
                        <span style="color: #f39c12;">ğŸ‘‘ ì†Œìœ ì</span>
                        {% elif ws.role == 'admin' %}
                        <span style="color: #3498db;">âš™ï¸ ê´€ë¦¬ì</span>
                        {% else %}
                        <span>ğŸ‘¤ ë©¤ë²„</span>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p style="color: var(--text-muted);">ì†Œì†ëœ ì‚¬ì—…ì¥ì´ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endif %}
    </div>
</div>

<div class="card" style="background: #2c1810; border: 1px solid #e74c3c;">
    <div class="card-header" style="border-bottom: 1px solid #e74c3c;">
        <h3 style="color: #e74c3c;">âš ï¸ ìœ„í—˜ êµ¬ì—­</h3>
    </div>
    <div class="card-body" style="padding: 20px;">
        <p style="margin-bottom: 15px; color: var(--text-muted);">íšŒì›ì„ ì‚­ì œí•˜ë©´ í•´ë‹¹ íšŒì›ì˜ ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë©ë‹ˆë‹¤. ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
        <form method="POST" action="{{ url_for('admin_delete_user', user_id=user.id) }}" 
              onsubmit="return confirm('ì •ë§ë¡œ ì´ íšŒì›ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë©ë‹ˆë‹¤!');">
            <button type="submit" class="btn" style="background: #e74c3c; color: white;">ğŸ—‘ï¸ íšŒì› ì‚­ì œ</button>
        </form>
    </div>
</div>
{% endblock %}